start every: 15.minutes

def sourceIds = get from: '/sources', root: 'new-docs-finder', expect: List

sourceIds.each { sourceId ->
    def newDocsIds = post to: "/source/${sourceId}/new-docs", root: 'new-docs-finder', expect: List

    newDocsIds.each { docId ->
        ignoreFailures {
            post to: "/doc/${docId}/load", root: 'new-docs-finder'
            output docId: docId
        }
    }
}