apply from: 'repository.gradle'

allprojects {
	group = 'com.github.diplodoc'
	version = '0.0.4-SNAPSHOT'
}

buildscript {
	repositories {
		jcenter()
	}

	dependencies {
		classpath 'org.akhikhl.gretty:gretty:+'
	}
}

apply plugin: 'org.akhikhl.gretty'
farm {
	webapp ':diploexec:diploexec-rest'
}

subprojects {
    apply plugin: 'java'
	apply plugin: 'groovy'

	buildscript {
		repositories {
			jcenter()
		}

		dependencies {
			classpath 'org.akhikhl.gretty:gretty:+'
		}
	}

	repositories {
	    jcenter()
	}

	dependencies {
		compile dependency.groovy
		compile dependency.spring.context

        testCompile dependency.spock
        testCompile dependency.cglib
        testCompile dependency.objenesis
	}
}

project(':diplobase:diplobase-shell') {
	dependencies {
		compile project(':diplobase:diplobase-client')
	}
}

project(':diplobase:diplobase-client') {
    dependencies {
        compile project(':diplobase')
    }
}

project(':diplocore') {
	dependencies {
		compile project(':diplobase')
	}
}

project(':diploexec') {
	dependencies {
		compile project(':diplocore')
		compile project(':diplobase')
	}
}

project(':diploexec:diploexec-rest') {
	dependencies {
		compile project(':diploexec')
	}
}

project(':diploexec:diploexec-shell') {
	dependencies {
        compile project(':diplobase:diplobase-client')
		compile project(':diploexec:diploexec-client')
	}
}

project(':diploexec:diploexec-client') {
	dependencies {
		compile project(':diplobase')
	}
}